image:
  repository: kubezen/zen-agent
  tag: bootstrap
  pullPolicy: IfNotPresent

saas:
  apiBase: "https://api.kube-zen.io"  # Public SaaS API base (must be https://, no .svc.cluster.local)
  wsBase: "wss://ws.kube-zen.io"      # Public SaaS WS base (must be wss://, no .svc.cluster.local)
  clusterToken: ""  # REQUIRED: Set via --set or override

tenant:
  id: ""  # REQUIRED: Set via --set or override

cluster:
  id: ""  # REQUIRED: Set via --set or override

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

serviceAccount:
  create: true
  name: zen-agent

rbac:
  create: true

podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true

# CA certificate mount (preferred over tlsInsecure for dev)
# Mount a custom CA cert to trust self-signed certificates in dev environments
caMount:
  enabled: false
  configMapName: zen-agent-ca
  mountPath: /usr/local/share/ca-certificates

# TLS insecure mode (DEV ONLY - NEVER USE IN PROD/STAGING)
# ⚠️  SECURITY WARNING: This disables TLS certificate verification.
# ⚠️  This is a dev-only escape hatch for local testing with self-signed certs.
# ⚠️  Precheck will FAIL if tlsInsecure=true and environment != dev.
# ⚠️  Prefer caMount + proper CA trust instead of tlsInsecure.
# Default: false (secure-by-default)
tlsInsecure: false

# Environment label (used for gating tlsInsecure)
# Must be set to "dev" to allow tlsInsecure=true
# Values: dev, staging, prod
environment: ""
