apiVersion: v1
kind: Secret
metadata:
  name: zen-agent-secrets
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/name: zen-agent
    app.kubernetes.io/component: security-remediation
  annotations:
    kubezen.io/managed-by: "zen-agent"
    kubezen.io/bootstrap: "true"
type: Opaque
stringData:
  {{- if .Values.bootstrap.token }}
  bootstrap-token: {{ .Values.bootstrap.token | quote }}
  {{- end }}
  cluster-id: {{ .Values.cluster.id | quote }}
  tenant-id: {{ .Values.tenant.id | quote }}
  # HMAC credentials are populated by agent after bootstrap
  # Do NOT manually set hmac-key or hmac-key-id fields
