ğŸ‰ Zen Watcher has been deployed!

Version: {{ .Chart.AppVersion }}
Release: {{ .Release.Name }}
Namespace: {{ include "zen-watcher.namespace" . }}

ğŸ“Š Check the status of your deployment:

  kubectl --namespace {{ include "zen-watcher.namespace" . }} get pods -l "app.kubernetes.io/name={{ include "zen-watcher.name" . }},app.kubernetes.io/instance={{ .Release.Name }}"

ğŸ” View ZenEvent CRDs:

  kubectl get zenevents -n {{ .Values.config.watchNamespace }}

ğŸ¥ Health Check:

  export POD_NAME=$(kubectl get pods --namespace {{ include "zen-watcher.namespace" . }} -l "app.kubernetes.io/name={{ include "zen-watcher.name" . }},app.kubernetes.io/instance={{ .Release.Name }}" -o jsonpath="{.items[0].metadata.name}")
  kubectl --namespace {{ include "zen-watcher.namespace" . }} port-forward $POD_NAME 8080:8080
  
  Then visit: http://127.0.0.1:8080/health

ğŸ” Security Verification:

1. Verify Pod Security Context:
   kubectl get pod -n {{ include "zen-watcher.namespace" . }} -l app.kubernetes.io/name={{ include "zen-watcher.name" . }} -o jsonpath='{.items[0].spec.securityContext}'

2. Verify Container Security:
   kubectl get pod -n {{ include "zen-watcher.namespace" . }} -l app.kubernetes.io/name={{ include "zen-watcher.name" . }} -o jsonpath='{.items[0].spec.containers[0].securityContext}'

3. Check NetworkPolicy:
{{- if .Values.networkPolicy.enabled }}
   kubectl get networkpolicy -n {{ include "zen-watcher.namespace" . }} {{ include "zen-watcher.fullname" . }}
{{- else }}
   âš ï¸  NetworkPolicy is DISABLED. Enable with: --set networkPolicy.enabled=true
{{- end }}

4. Verify Image Signature (if Cosign enabled):
{{- if .Values.image.verifySignature }}
   cosign verify --key {{ .Values.image.cosignPublicKey }} {{ .Values.image.repository }}:{{ .Values.image.tag | default .Chart.AppVersion }}
{{- else }}
   âš ï¸  Image signature verification is DISABLED. Enable with: --set image.verifySignature=true
{{- end }}

5. Check Pod Security Standards:
{{- if .Values.podSecurityStandards.enabled }}
   kubectl get namespace {{ include "zen-watcher.namespace" . }} -o jsonpath='{.metadata.labels}'
{{- else }}
   âš ï¸  Pod Security Standards are DISABLED.
{{- end }}

6. Verify RBAC:
   kubectl describe clusterrole {{ include "zen-watcher.fullname" . }}
   kubectl describe clusterrolebinding {{ include "zen-watcher.fullname" . }}

ğŸ“– Documentation:

  - GitHub: {{ .Chart.Home }}
  - Security Best Practices: {{ .Chart.Home }}/blob/main/docs/SECURITY.md
  - SBOM: {{ .Chart.Home }}/blob/main/docs/SBOM.md

ğŸš¨ Security Recommendations:

{{- if not .Values.networkPolicy.enabled }}
  âš ï¸  Enable NetworkPolicy: --set networkPolicy.enabled=true
{{- end }}
{{- if not .Values.image.verifySignature }}
  âš ï¸  Enable image signature verification: --set image.verifySignature=true --set image.cosignPublicKey=<key>
{{- end }}
{{- if not .Values.podSecurityStandards.enabled }}
  âš ï¸  Enable Pod Security Standards: --set podSecurityStandards.enabled=true
{{- end }}
{{- if not .Values.serviceMonitor.enabled }}
  ğŸ’¡ Enable Prometheus monitoring: --set serviceMonitor.enabled=true
{{- end }}

ğŸ¯ Next Steps:

1. Monitor events: kubectl get zenevents -n {{ .Values.config.watchNamespace }} --watch
2. View logs: kubectl logs -n {{ include "zen-watcher.namespace" . }} -l app.kubernetes.io/name={{ include "zen-watcher.name" . }} -f
3. Check status: kubectl get zenevents -n {{ .Values.config.watchNamespace }} -l category=security

Happy Event Aggregating! ğŸš€


